(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"13dd":function(e,t,a){"use strict";var n,o=function(){var e=this,t=e.$createElement;e._self._c},s=[];a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return n}))},"2d6b":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("2f62"),o=r(a("4730")),s=a("8f90");function r(e){return e&&e.__esModule?e:{default:e}}var u={computed:(0,n.mapState)(["hasLogin"]),data:function(){return{username:"",password:"",rememberPsw:!0,array:["督导员","用户"],jq:0}},methods:{typeChange:function(e){this.index=e.target.value,this.jq=this.index},submitlogin:function(){var t=this;if(""!=this.username&&null!=this.username&&""!=this.password&&null!=this.password){var a={url:"api/oauth/WXAuth",method:"post"};o.default.httpRequest(a,{username:this.username,password:this.password}).then((function(a){if(200==a.data.code){var n=a.data.data;try{e.setStorageSync("token",n)}catch(r){}o.default.httpTokenRequest({url:"api/v1/account/profile",method:"get"}).then((function(a){if(200==a.data.code){console.log(a.data);var o={userName:a.data.data.user_name,userId:a.data.data.user_guid,userType:a.data.data.user_type,DepartmentName:a.data.data.user_departmentName,DepartmentGuid:a.data.data.user_departmentGuid,RoleName:a.data.data.roleName,token:n};t.$store.commit("login",o),t.$store.state.phone=t.username,t.rememberPsw?(e.setStorageSync("username",t.username),e.setStorageSync("password",t.password)):(e.removeStorageSync("username"),e.removeStorageSync("password"),t.username="",t.password=""),console.log(33),(0,s.GetUserInfo)(t.$store.state.userId).then((function(a){console.log(a),200==a.data.code&&(""==a.data.data.address||null==a.data.data.address)?e.reLaunch({url:"../YongHu/addinfo"}):(console.log(22),t.$store.state.seltab=1,e.reLaunch({url:"../home/index"}))}))}else e.showModal({title:"提示",content:a.data.message})}))}else e.showModal({title:"提示",content:a.data.message})})).catch((function(t){e.showModal({title:"提示",content:"网络服务报错，请检查您的网络"})}))}else e.showModal({title:"提示",content:"用户名和密码不能为空",showCancel:!1})},checkboxChange:function(t){console.log(t.detail.value.length),1==t.detail.value.length?(e.getStorageSync("username",this.username),e.getStorageSync("password",this.password)):(e.removeStorageSync("username"),e.removeStorageSync("password"))}},mounted:function(){var t=e.getStorageSync("username"),a=e.getStorageSync("password");t&&a?(this.username=t,this.password=a):(this.username="",this.password="")},onLaunch:function(){e.getSystemInfo({success:function(e){Vue.prototype.statusBar=e.statusBarHeight;var t=wx.getMenuButtonBoundingClientRect();Vue.prototype.customBar=t.bottom+t.top-e.statusBarHeight}})}};t.default=u}).call(this,a("543d")["default"])},"4a9f":function(e,t,a){"use strict";a.r(t);var n=a("13dd"),o=a("5417");for(var s in o)"default"!==s&&function(e){a.d(t,e,(function(){return o[e]}))}(s);a("c668");var r,u=a("f0c5"),d=Object(u["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);t["default"]=d.exports},5417:function(e,t,a){"use strict";a.r(t);var n=a("2d6b"),o=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=o.a},c668:function(e,t,a){"use strict";var n=a("d507"),o=a.n(n);o.a},d507:function(e,t,a){},d821:function(e,t,a){"use strict";(function(e){a("f397"),a("921b");n(a("66fd"));var t=n(a("4a9f"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])}},[["d821","common/runtime","common/vendor"]]]);