{"version":3,"sources":["uni-app:///main.js","webpack:///D:/我的工作目录/work_桐庐垃圾分类/201211_11.43产品/ZHZW-JG-001-0003海看垃圾分类综合管理系统软件/HaikanRefuseClassification.Mobi/test/pages/user/clockin/volunteer.vue?ab5a","webpack:///D:/我的工作目录/work_桐庐垃圾分类/201211_11.43产品/ZHZW-JG-001-0003海看垃圾分类综合管理系统软件/HaikanRefuseClassification.Mobi/test/pages/user/clockin/volunteer.vue?211d","webpack:///D:/我的工作目录/work_桐庐垃圾分类/201211_11.43产品/ZHZW-JG-001-0003海看垃圾分类综合管理系统软件/HaikanRefuseClassification.Mobi/test/pages/user/clockin/volunteer.vue?7132","webpack:///D:/我的工作目录/work_桐庐垃圾分类/201211_11.43产品/ZHZW-JG-001-0003海看垃圾分类综合管理系统软件/HaikanRefuseClassification.Mobi/test/pages/user/clockin/volunteer.vue?00df","uni-app:///pages/user/clockin/volunteer.vue","webpack:///D:/我的工作目录/work_桐庐垃圾分类/201211_11.43产品/ZHZW-JG-001-0003海看垃圾分类综合管理系统软件/HaikanRefuseClassification.Mobi/test/pages/user/clockin/volunteer.vue?a9bf","webpack:///D:/我的工作目录/work_桐庐垃圾分类/201211_11.43产品/ZHZW-JG-001-0003海看垃圾分类综合管理系统软件/HaikanRefuseClassification.Mobi/test/pages/user/clockin/volunteer.vue?bf2e"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,4G;AACAA,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACa;;;AAGrE;AACsL;AACtL,gBAAgB,6KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAqsB,CAAgB,mnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmJztB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4D;AACA;AACA,kCADA;AAEA,MAFA,kBAEA;AACA;AACA;AACA,mBADA;AAEA;AACA,4BADA;AAEA,6BAFA;AAGA,gCAHA,EAGA;AACA,4BAJA,EAIA;AACA,oBALA,EAKA;AACA,wBANA,CAMA;AANA,UAFA;AAUA,iBAVA;AAWA,0BAXA,EAWA;AACA,2BAZA,CAYA;AAZA,OADA;AAeA,kBAfA;AAgBA,6DAhBA;AAiBA,cAjBA;AAkBA,cAlBA;AAmBA,qBAnBA;AAoBA,cApBA;AAqBA,mBArBA;AAsBA,WAtBA,EAsBA;AACA,iBAvBA,EAuBA;AACA,mDAxBA,EAwBA;AACA,iBAzBA,EAyBA;AACA,iBA1BA,EA0BA;AACA,6DA3BA,EA2BA;AACA,6DA5BA,EA4BA;AACA;AACA,uBADA,EACA,gBADA,EACA,aADA,EACA,cADA;AAEA,uBAFA,EAEA,gBAFA,EAEA,aAFA,EAEA,cAFA;AAGA,oBAHA,EAGA,YAHA,EAGA,QAHA,EAGA,mBAHA,EAGA,eAHA,EA7BA;;AAkCA,iBAlCA,EAkCA;AACA,cAnCA,EAmCA;AACA,mBApCA,EAoCA;AACA,0DArCA,EAqCA;AACA,wDAtCA;AAuCA,kBAvCA,EAuCA;AACA,mBAxCA,EAwCA;AACA,qBAzCA,EAyCA;AACA,kBA1CA;AA2CA,iBA3CA,EA2CA;AACA,6FA5CA,EA4CA;AACA;AACA;AACA;AACA,aADA;AAEA,4EAFA;AAGA,2BAHA;AAIA,6BAJA;AAKA,oDALA,EAFA,CA7CA;;;AAuDA;AACA;AACA,wGAFA,CAvDA;;AA2DA;AACA;AACA,yBADA;AAEA,kBAFA,GADA;;AAKA,gBALA,EA3DA;;;AAmEA,GAtEA;AAuEA;AACA,QAxEA,oBAwEA;AACA;AACA,oCADA;AAEA,cAFA;;AAIA;AACA;AACA;AACA;AACA,qBADA;AAEA,2CAFA;AAGA,2BAHA;AAIA;AACA;AACA,sBADA;AAEA,oCAFA;;AAIA,WATA;;AAWA;AACA,KAfA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAjIA;AAkIA;AACA,eADA,uBACA,IADA,EACA;AACA;AACA,KAHA;AAIA;AACA;AACA;AACA;AACA,OAFA;AAGA,KATA;AAUA,oBAVA,8BAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA,KAlBA;AAmBA,mBAnBA,6BAmBA;AACA;AACA;AACA,qBADA;AAEA,sBAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,4CADA;AAEA,oBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAdA;AAeA;AACA;AACA;AACA;AACA,SA/BA;AAgCA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,+BAFA;AAGA,6BAHA;AAIA;AACA;AACA;AACA,0BADA;AAEA,wCAFA;;AAIA;AACA,aAXA;;AAaA,SAjDA;;AAmDA,KAxEA;AAyEA,mBAzEA,2BAyEA,CAzEA,EAyEA;AACA;AACA;;AAEA,KA7EA;AA8EA;AACA,UA/EA,oBA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,2BAFA;AAGA,uBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAjCA;AAkCA;AACA;AACA,uBADA;AAEA,+BAFA;AAGA,6BAHA;AAIA;AACA;AACA;AACA,0CADA;;AAGA;AACA,aAVA;;AAYA;AACA,OAlDA;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhNA;AAiNA;AACA;AACA;AACA,KApNA;AAqNA;AACA,SAtNA,mBAsNA;AACA;AACA;AACA,yBADA;AAEA,8CAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WANA,MAMA;AACA;AACA;AACA,SAbA;;;AAgBA,KAxOA;AAyOA;AACA,WA1OA,mBA0OA,CA1OA,EA0OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,sBAFA;AAGA,kBAHA;AAIA;AACA;AACA,SANA;AAOA;AACA;AACA,SATA;;AAWA,KA5PA;AA6PA;AACA,WA9PA,qBA8PA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAnQA;AAoQA;AACA,eArQA,yBAqQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBADA,EACA;AACA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAjBA;AAkBA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,+BAFA;AAGA,6BAHA;AAIA;AACA;AACA;AACA,0CADA;;AAGA;AACA,aAVA;;AAYA,SAlCA;;AAoCA,KApTA;AAqTA;AACA,aAtTA,uBAsTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,yDAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCARA,CAQA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA,aAPA;AAQA,WApBA,MAoBA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA,aANA;AAOA;AACA,SA7DA,MA6DA;AACA;AACA;AACA;AACA,OAnEA;;AAqEA;AACA,KAvYA;AAwYA;AACA,gBAzYA,0BAyYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAZA;;AAcA,KAzZA;AA0ZA;AACA,oBA3ZA,8BA2ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAXA;AAYA,KAzaA;AA0aA,gBA1aA,wBA0aA,CA1aA,EA0aA;AACA;AACA;AACA;AACA,8BAJA,CAIA;AACA;AACA,KAhbA,EAlIA;;;;AAsjBA,SAtjBA,qBAsjBA;AACA;;AAEA,GAzjBA,E;;;;;;;;;;;;;AC3JA;AAAA;AAAA;AAAA;AAA8/B,CAAgB,w2BAAG,EAAC,C;;;;;;;;;;;ACAlhC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/user/clockin/volunteer.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/user/clockin/volunteer.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./volunteer.vue?vue&type=template&id=0c6597a3&\"\nvar renderjs\nimport script from \"./volunteer.vue?vue&type=script&lang=js&\"\nexport * from \"./volunteer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./volunteer.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/clockin/volunteer.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./volunteer.vue?vue&type=template&id=0c6597a3&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.isAm ? _vm.amSign.time.substring(10, 16) : null\n  var g1 = _vm.isAm && _vm.isPm ? _vm.pmSign.time.substring(10, 16) : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./volunteer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./volunteer.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\"  style='padding-top:2rem'>\r\n\t\t<cu-custom bgColor=\"bg-gradual-blue\" :isBack=\"true\" tourl=\"/pages/home/index\">\r\n\t\t\t\t\t\t<block slot=\"backText\">返回</block>\r\n\t\t\t\t\t\t<block slot=\"content\">志愿者打卡</block>\r\n\t\t</cu-custom>\r\n\t\t<view>\r\n\t\t\t<map style=\"width:100%;height:30vh;\"  \r\n\t\t\t:latitude=\"outmap.latitude\" \r\n\t\t\t:longitude=\"outmap.longitude\" \r\n\t\t\t:markers='outmap.markers' \r\n\t\t\t:circles='outmap.circles' \r\n\t\t\t:scale='outmap.scale'\r\n\t\t\t@markertap='openMap'\r\n\t\t\t\r\n\t\t\t>\r\n\t\t\t</map>\r\n\t\t</view>\r\n\t\t<view class=\"page-body\">\r\n\t\t\t<!-- <text @click=\"reset\">重置</text> -->\r\n\t\t\t<view style=\"text-align: center;padding: 20upx 0;\">\r\n\t\t\t\t当前位置:\r\n\t\t\t\t<text @click=\"openLocation\">{{ address }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"\" style=\"margin:0 20px;border-radius: 5px;\">\r\n\t\t\t\t<!-- <view class=\"cu-form-group\" style=\"border-radius: 5px;\">\r\n\t\t\t\t\t<view class=\"title\">志愿者</view>\r\n\t\t\t\t\t<picker @change=\"volunteerChange\" :value=\"volunteerlist.index\" :range=\"volunteerlist.picker\" range-key=\"realName\"\r\n\t\t\t\t\t >\r\n\t\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t\t{{volunteerlist.picker[volunteerlist.index].realName}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view> -->\r\n\t\t\t\t<view class=\"cu-form-group \" style=\"border-radius: 5px;\">\r\n\t\t\t\t\t<view class=\"title\">垃圾厢房：</view>\r\n\t\t\t\t\t<picker @change=\"PickerChange\" :value=\"index\" :range-key=\"'ljname'\" :range=\"picker_room\">\r\n\t\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t\t{{index>-1?picker_room[index].ljname:picker_room[0].ljname}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<view class=\"uni-timeline\">\r\n\t\t\t\t<view class=\"uni-timeline-item uni-timeline-first-item\">\r\n\t\t\t\t\t<view class=\"uni-timeline-item-divider\" :style=\"{ background: !isAm ? '#1AAD19' : '#bbb' }\"></view>\r\n\t\t\t\t\t<view class=\"uni-timeline-item-content\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view class=\"uni-timeline-item-content-t1\">上班时间{{ Timer[0].time }}</view>\r\n\t\t\t\t\t\t\t<view class=\"desc-pad\" v-if=\"isAm\">\r\n\t\t\t\t\t\t\t\t<view class=\"time uni-timeline-item-content-t\">\r\n\t\t\t\t\t\t\t\t\t打卡时间 {{ amSign.time.substring(10, 16) }}\r\n\t\t\t\t\t\t\t\t\t<!-- <view class=\"iswq\" v-if=\"amSign.mode == '外勤打卡'\">外勤</view> -->\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- <view>\r\n\t\t\t\t\t\t\t\t\t<uni-icon type=\"location-filled\" />\r\n\t\t\t\t\t\t\t\t\t{{ amSign.address }}\r\n\t\t\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-else class=\"content-show\">\r\n\t\t\t\t\t\t\t\t<view v-if=\"is === true\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"module CBlue\" @click=\"clickSign\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text\">上班打卡</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{ time }}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else-if=\"is === false\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"module Ccc\" >\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text\">上班打卡</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{ time }}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else-if=\"is === null\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"module CAsh\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text\">请检查位置信息</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{ time }}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-timeline-item uni-timeline-last-item\">\r\n\t\t\t\t\t<view class=\"uni-timeline-item-divider\" :style=\"{ background: isAm ? '#1AAD19' : '#bbb' }\"></view>\r\n\t\t\t\t\t<view class=\"uni-timeline-item-content\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view class=\"uni-timeline-item-content-t1\">下班时间{{ Timer[1].time }}</view>\r\n\t\t\t\t\t\t\t<view v-if=\"isAm\" class=\"desc-pad\">\r\n\t\t\t\t\t\t\t\t<view class=\"desc-pad\" v-if=\"isPm\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"time uni-timeline-item-content-t\">\r\n\t\t\t\t\t\t\t\t\t\t打卡时间:{{ pmSign.time.substring(10, 16) }}\r\n\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"iswq\" v-if=\"pmSign.mode == '外勤打卡'\">外勤</view> -->\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<!-- <view>\r\n\t\t\t\t\t\t\t\t\t\t<uni-icon type=\"location-filled\" />\r\n\t\t\t\t\t\t\t\t\t\t{{ pmSign.address }}\r\n\t\t\t\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else class=\"content-show\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"is === true\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"module CBlue\" @click=\"clickSign\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">下班打卡</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{ time }}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else-if=\"is === false\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"module Ccc\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">下班打卡</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{ time }}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else-if=\"is === null\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"module CGreen\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\">请检查位置信息</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time\">{{ time }}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"false\">\r\n\t\t\t\t<uni-collapse>\r\n\t\t\t\t\t<uni-collapse-item title=\"全部打卡信息\">\r\n\t\t\t\t\t\t<uni-list>\r\n\t\t\t\t\t\t\t<view class=\"uni-list-cell-left\">\r\n\t\t\t\t\t\t\t\t<view v-for=\"(item, index) in allSign\" :key=\"index\" style=\"border-bottom: 1px dashed #007AFF;\">\r\n\t\t\t\t\t\t\t\t\t<view>{{ item.mode }}</view>\r\n\t\t\t\t\t\t\t\t\t<view>{{ item.address }}</view>\r\n\t\t\t\t\t\t\t\t\t<view>{{ item.time }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</uni-list>\r\n\t\t\t\t\t</uni-collapse-item>\r\n\t\t\t\t</uni-collapse>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\r\nimport uniIcon from '@/components/uni-icon/uni-icon.vue';\r\nimport { formateDate, pointInsideCircle, isSameDay } from '@/global/utils.js';\r\nimport {checkSubscribe} from '@/api/grabage/GrabList.js';\r\nimport {getAddress} from '@/api/map/map.js';\r\nimport { handleSignClick, setSignInfo, addSignInfo, getSignInfo, delSignInfo, getInfo, key } from '@/global/index.js';\r\nimport {doClockIn,doClockBack} from '@/api/attendancemanagement/attendancelist';\r\nimport {getalllist} from '@/api/volunteer/list';\r\n\timport{doGetTrashLocation,getTrashRoomList,TrashRoomYYList,Roomjuli} from '@/api/supervisor/manager.js'\r\n\t\timport { getXFsList } from \".../../api/XFs.js\";\r\nexport default {\r\n\tcomponents: { uniIcon },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\toutmap:{\r\n\t\t\t\tmarkers: [],\r\n\t\t\tcircles:[{//在地图上显示圆\r\n\t\t\t\t      　　latitude: 29.79317,\r\n\t\t\t\t      　　longitude: 119.6915,\r\n\t\t\t\t      　　fillColor:\"#999999AA\",//填充颜色\r\n\t\t\t\t     　　 color:\"#cacacaAA\",//描边的颜色\r\n\t\t\t\t      　　radius:20,//半径\r\n\t\t\t\t     　　 strokeWidth:2//描边的宽度\r\n\t\t\t\t      }],　\r\n\t\t\t\t\t  scale:18,\r\n\t\t\t\t\t  latitude: 29.79317,  //纬度\r\n\t\t\t  　　 longitude: 119.6915,  //经度\r\n\t\t\t},\r\n\t\t\tname: '我的名字',\r\n\t\t\tbzText: { time: '', address: '', img: '', remarks: '' },\r\n\t\t\ttype: '',\r\n\t\t\tdddd:'',\r\n\t\t\tpicker_room: [],\r\n\t\t\tindex:0,\r\n\t\t\ttrashroom:'',\r\n\t\t\tr: 80, //半径\r\n\t\t\tjuli:false,//是否够距离\r\n\t\t\tTimer: [{ time: '09:00' }, { time: '18:00' }], //上下班时间\r\n\t\t\tisAm: false, //上班是否打卡\r\n\t\t\tisPm: false, //下班是否打卡\r\n\t\t\tamSign: { time: '', address: '', remarks: '', img: '' }, //上午打卡信息\r\n\t\t\tpmSign: { time: '', address: '', remarks: '', img: '' }, //下午打卡信息\r\n\t\t\tsignModel:{\r\n\t\t\t\tAmstartTime:'',AmstartPlace:'',AmendTime:'',AmendPlace:'',\r\n\t\t\t\tPmstartTime:'',PmstartPlace:'',PmendTime:'',PmendPlace:'',\r\n\t\t\t\tUserUUID:'',UserName:'',Type:'',garbageRoomUuid:'',TimeState:'am'\r\n\t\t\t},\r\n\t\t\tclickNum: 0, //点击重新获取位置信息次数\r\n\t\t\tis: true, //是否正常打卡（外勤打卡）\r\n\t\t\tisSign: false, //是否打卡\r\n\t\t\ttime: formateDate(new Date(), 'h:min:s'), //当前时分秒\r\n\t\t\tdate: formateDate(new Date(), 'Y-M-D'),\r\n\t\t\tlatitude: '', //当前经度\r\n\t\t\tlongitude: '', //当前维度\r\n\t\t\taddress: '我的位置', //\r\n\t\t\twqInfo: null,\r\n\t\t\tallSign: [], //所有打卡信息\r\n\t\t\tsignInfo: { mode: '', latitude: '', longitude: '', address: '', time: '', remarks: '' }, //打卡信息 （模式，经纬度，地址，时间）\r\n\t\t\tcovers: [\r\n\t\t\t\t// 公司点信息\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\tcallout: { content: '*****科技有限公司', color: 'red', display: 'ALWAYS' },\r\n\t\t\t\t\tlatitude: 37.788338,\r\n\t\t\t\t\tlongitude: 112.557031,\r\n\t\t\t\t\ticonPath: '../../../static/img/location.png'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tcircles: [\r\n\t\t\t\t// 公司圆信息(latitude:39.9085,longitude:116.39747 );\r\n\t\t\t\t{ latitude: 37.788338, longitude: 112.557031, radius: 80, strokeWidth: 1, fillColor: '#7fff0099' }\r\n\t\t\t],\r\n\t\t\tvolunteerlist: {\r\n\t\t\t\tpicker: [{\r\n\t\t\t\t\tvolunteerId: '',\r\n\t\t\t\t\tname: ''\r\n\t\t\t\t}],\r\n\t\t\t\tindex: 0,\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\t// 初始化\r\n\tonLoad() {\r\n\t\tlet data={\r\n\t\t\tguid:this.$store.state.userId,\r\n\t\t\tap:'am',\r\n\t\t}\r\n\t\tcheckSubscribe(data).then(res=>{\r\n\t\t\tconsole.log(res);\r\n\t\t\tif(res.data.code!=200){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle:\"提示\",\r\n\t\t\t\t\tcontent:'志愿者'+res.data.message,\r\n\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t    delta: 1,\r\n\t\t\t\t\t\t    animationDuration: 200\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar sign = getSignInfo(1);\r\n\t\tif (sign != undefined) {\r\n\t\t\tvar signA = sign.main.reverse();\r\n\t\t\tthis.allSign = signA;\r\n\t\t\tif (signA.length == 1) {\r\n\t\t\t\tif (isSameDay(signA[0].nowT)) {\r\n\t\t\t\t\tthis.isSign = true;\r\n\t\t\t\t\tthis.isAm = true;\r\n\t\t\t\t\tthis.allSign = signA;\r\n\t\t\t\t\tthis.amSign = signA[0];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// 理想状态 认为这是 上一天 的 下班信息\r\n\t\t\t\tif (signA[0]) {\r\n\t\t\t\t\tif (isSameDay(signA[0].nowT)) {\r\n\t\t\t\t\t\tthis.isSign = true;\r\n\t\t\t\t\t\tthis.isPm = true;\r\n\t\t\t\t\t\tthis.allSign = signA;\r\n\t\t\t\t\t\tthis.pmSign = signA[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// 理想状态 认为这是 上一天 的 上班信息\r\n\t\t\t\tif (signA[1]) {\r\n\t\t\t\t\tif (isSameDay(signA[1].nowT)) {\r\n\t\t\t\t\t\tthis.isSign = true;\r\n\t\t\t\t\t\tthis.isAm = true;\r\n\t\t\t\t\t\tthis.allSign = signA;\r\n\t\t\t\t\t\tthis.amSign = signA[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// this.getLocation();\r\n\t\tthis.getTime();\r\n\t\t// this.getvolunteerlist();\r\n\t\tthis.doTrashRoomList();\r\n\t},\r\n\tmethods: {\r\n\t\ttogglePopup(type) {\r\n\t\t\tthis.type = type;\r\n\t\t},\r\n\t\t//获取垃圾房位置\r\n\t\tGetXFPosition:function(){\r\n\t\t\tgetXFsList().then(res=>{\r\n\t\t\t\tthis.outmap.markers=res.data.data;\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetvolunteerlist(){\r\n\t\t\tgetalllist().then(res=>{\r\n\t\t\t\tif(res.data.code==200)\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\t\tthis.volunteerlist.picker=res.data.data;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tdoTrashRoomList(){\r\n\t\t\tthis.dddd=this.outmap.longitude+','+this.outmap.latitude;\r\n\t\t\tuni.getLocation({\r\n\t\t\t\ttype:\"gcj02\",\r\n\t\t\t\taltitude:true,\r\n\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\tthis.dddd=res.longitude+','+res.latitude;\r\n\t\t\t\t\tconsole.log(this.dddd);\r\n\t\t\t\t\tthis.latitude=res.latitude;\r\n\t\t\t\t\tthis.longitude=res.longitude;\r\n\t\t\t\t\tlet datas={\r\n\t\t\t\t\t\tguid:this.$store.state.userId,\r\n\t\t\t\t\t\tap:'am'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tTrashRoomYYList(datas).then(res=>{\r\n\t\t\t\t\t\tif (res.data.data.length != 0) {\r\n\t\t\t\t\t\t\tthis.picker_room = res.data.data;\r\n\t\t\t\t\t\t\tthis.trashroom = this.picker_room[this.index].a.grabRoomUuid;\r\n\t\t\t\t\t\t\t// this.covers[0].latitude=picker_room[0].lat;\r\n\t\t\t\t\t\t\t// this.covers[0].longitude=picker_room[0].lon;\r\n\t\t\t\t\t\t\tthis.gettrashlocation();\r\n\t\t\t\t\t\t\t// var s = pointInsideCircle([this.latitude, this.longitude], [this.circles[0].latitude, this.circles[0].longitude], this.r / 100000);\r\n\t\t\t\t\t\t\t// this.is = s;\r\n\t\t\t\t\t\t\t//this.getLocation();\r\n\t\t\t\t\t\t\tthis.is=false;\r\n\t\t\t\t\t\t\tthis.getAdd();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.outmap.latitude=res.latitude;\r\n\t\t\t\t\tthis.outmap.longitude=res.longitude;\r\n\t\t\t\t\tthis.outmap.circles[0].latitude=res.latitude;\r\n\t\t\t\t\tthis.outmap.circles[0].longitude=res.longitude;\r\n\t\t\t\t},\r\n\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t//uni.hideLoading();\r\n\t\t\t\t\tthis.address = '请检查位置信息！';\r\n\t\t\t\t\t// uni.showToast({ title: '请检查位置信息状态！', icon: 'none', mask: true, duration: 3000 });\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '请检查位置信息！',\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tsuccess: function(rest) {\r\n\t\t\t\t\t\t\tif (rest.confirm) {\r\n\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t    delta: 1,\r\n\t\t\t\t\t\t\t\t    animationDuration: 200\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tvolunteerChange(e) {\r\n\t\t\tthis.volunteerlist.index = e.target.value;\r\n\t\t\tconsole.log(this.volunteerlist.picker[this.volunteerlist.index].realName);\r\n\t\t\t\r\n\t\t},\r\n\t\t// 腾讯位置服务\r\n\t\tgetAdd() {\r\n\t\t\t// if (this.isAm && this.isPm) {\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\t\t\tif (this.is === true) {\r\n\t\t\t\tlet address = this.covers[0].callout.content;\r\n\t\t\t\tthis.address = address;\r\n\t\t\t\tthis.signInfo.address = address;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconsole.log(\"xxxx\");\r\n\t\t\tvar that = this;\r\n\t\t\tvar url = `https://apis.map.qq.com/ws/geocoder/v1/?location=${that.latitude},${that.longitude}&key=${key}`;\r\n\t\t\tlet data={\r\n\t\t\t\tlat:that.latitude,\r\n\t\t\t\tlon:that.longitude,\r\n\t\t\t\tkey:key,\r\n\t\t\t}\r\n\t\t\tconsole.log(data);\r\n\t\t\tconsole.log(that);\r\n\t\t\tgetAddress(data).then(res=>{\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\tvar addr = res.data.data;\r\n\t\t\t\t\tconsole.log(addr);\r\n\t\t\t\t\tif (addr.status != 0) {\r\n\t\t\t\t\t\tuni.showToast({ title: addr.message, icon: 'none' });\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.latitude = addr.result.ad_info.location.lat;\r\n\t\t\t\t\tthat.longitude = addr.result.ad_info.location.lng;\r\n\t\t\t\t\tthat.address=addr.result.address + addr.result.formatted_addresses.recommend;\r\n\t\t\t\t\tconsole.log(that.address);\r\n\t\t\t\t\tthat.covers[0] = { id: 1, latitude: that.latitude, longitude: that.longitude, iconPath: '../../static/location.png' };\r\n\t\t\t\t\tvar s = pointInsideCircle([that.latitude, that.longitude], [that.covers[0].latitude, that.covers[0].longitude], that.r / 100000);\r\n\t\t\t\t\tconsole.log(s);\r\n\t\t\t\t\tconsole.log(that.latitude);\r\n\t\t\t\t\tconsole.log(that.longitude);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.is = s;\r\n\t\t\t\t\tthat.signInfo.latitude = that.latitude;\r\n\t\t\t\t\tthat.signInfo.longitude = that.longitude;\r\n\t\t\t\t\tconsole.log(that.is);\r\n\t\t\t\t\tthat.signInfo.mode = '正常打卡';\r\n\t\t\t\t\tthat.signInfo.address = addr.result.address + addr.result.formatted_addresses.recommend;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (that.is === null) {\r\n\t\t\t\t\t\tthat.address = '请检查位置信息！';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (that.is === false) {\r\n\t\t\t\t\t\tlet address = addr.result.address + addr.result.formatted_addresses.recommend;\r\n\t\t\t\t\t\tthat.address = address;\r\n\t\t\t\t\t\tthat.signInfo.address = address;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '请检查位置信息！',\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tsuccess: function(rest) {\r\n\t\t\t\t\t\t\tif (rest.confirm) {\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl: '/pages/home/index'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// uni.request({\r\n\t\t\t// \turl,\r\n\t\t\t// \tsuccess(res) {\r\n\t\t\t// \t\tconsole.log(res);\r\n\t\t\t// \t\tvar data = res.data;\r\n\t\t\t// \t\tif (data.status != 0) {\r\n\t\t\t// \t\t\tuni.showToast({ title: data.message, icon: 'none' });\r\n\t\t\t// \t\t\treturn;\r\n\t\t\t// \t\t}\r\n\t\t\t// \t\t//debugger;\r\n\t\t\t// \t\tthat.latitude = data.result.ad_info.location.lat;\r\n\t\t\t// \t\tthat.longitude = data.result.ad_info.location.lng;\r\n\t\t\t// \t\tthat.address=res.data.result.address + res.data.result.formatted_addresses.recommend;\r\n\t\t\t// \t\tconsole.log(that.address);\r\n\t\t\t// \t\tthat.covers[0] = { id: 1, latitude: that.latitude, longitude: that.longitude, iconPath: '../../static/location.png' };\r\n\t\t\t// \t\tvar s = pointInsideCircle([that.latitude, that.longitude], [that.covers[0].latitude, that.covers[0].longitude], that.r / 100000);\r\n\t\t\t// \t\tconsole.log(s);\r\n\t\t\t// \t\tconsole.log(that.latitude);\r\n\t\t\t// \t\tconsole.log(that.longitude);\r\n\t\t\t\t\t\r\n\t\t\t// \t\tthat.is = s;\r\n\t\t\t// \t\tthat.signInfo.latitude = res.latitude;\r\n\t\t\t// \t\tthat.signInfo.longitude = res.longitude;\r\n\t\t\t// \t\tthat.signInfo.mode = '正常打卡';\r\n\t\t\t// \t\tthat.signInfo.address = res.data.result.address + res.data.result.formatted_addresses.recommend;\r\n\t\t\t// \t\tconsole.log(that.is);\r\n\t\t\t// \t\tif (that.is === null) {\r\n\t\t\t// \t\t\tthat.address = '请检查位置信息！';\r\n\t\t\t// \t\t}\r\n\t\t\t// \t\tif (that.is === false) {\r\n\t\t\t// \t\t\tlet address = res.data.result.address + res.data.result.formatted_addresses.recommend;\r\n\t\t\t// \t\t\tthat.address = address;\r\n\t\t\t// \t\t\tconsole.log(address);\r\n\t\t\t// \t\t\tconsole.log(that.address);\r\n\t\t\t// \t\t\tthat.signInfo.address = address;\r\n\t\t\t// \t\t}\r\n\t\t\t// \t},\r\n\t\t\t// \tfail: (err) => {\r\n\t\t\t// \t\tconsole.log(err);\r\n\t\t\t// \t\t//uni.showToast({ title: '请检查位置信息状态！', icon: 'none', mask: true, duration: 3000 });\r\n\t\t\t// \t\t// uni.showModal({\r\n\t\t\t// \t\t// \ttitle:\"定位失败\",\r\n\t\t\t// \t\t// \tcontent:''+JSON.stringify(err),\r\n\t\t\t// \t\t// })\r\n\t\t\t// \t\tuni.showModal({\r\n\t\t\t// \t\t\ttitle: '提示',\r\n\t\t\t// \t\t\tcontent: '请检查位置信息！',\r\n\t\t\t// \t\t\tshowCancel: false,\r\n\t\t\t// \t\t\tsuccess: function(rest) {\r\n\t\t\t// \t\t\t\tif (rest.confirm) {\r\n\t\t\t// \t\t\t\t\tuni.navigateTo({\r\n\t\t\t// \t\t\t\t\t\turl: '/pages/home/index'\r\n\t\t\t// \t\t\t\t\t});\r\n\t\t\t// \t\t\t\t}\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t});\r\n\t\t\t// \t}\r\n\t\t\t// });\r\n\t\t},\r\n\t\t// 选择打卡日期\r\n\t\tbindDateChange: function(e) {\r\n\t\t\tthis.date = e.target.value;\r\n\t\t},\r\n\t\t// 重置打卡\r\n\t\treset(){\r\n\t\t\tvar that = this;\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle:\"重置本地打卡信息\",\r\n\t\t\t\tcontent:\"您确定要重置打卡信息吗？点击确定本地打卡信息会被清除！\",\r\n\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tdelSignInfo(1);\r\n\t\t\t\t\t\tthat.isSign = false;\r\n\t\t\t\t\t\tthat.isAm = false;\r\n\t\t\t\t\t\tthat.isPm = false;\r\n\t\t\t\t\t\tthat.allSign = [];\r\n\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t},\r\n        //导航\r\n\t\topenMap(e){\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\tvar a=this.outmap.markers.find(x=>x.id==e.markerId);\r\n\t\t\t\t\tvar lat=a.latitude;\r\n\t\t\t\t\tvar lon=a.longitude;\r\n\t\t\t\t\tvar name=a.title;\r\n\t\t\t\t\t//var title=a.callout.content;\r\n\t\t\t\t        uni.openLocation({\r\n\t\t\t\t            latitude: lat,\r\n\t\t\t\t            longitude: lon,\r\n\t\t\t\t\t\t\tname:name,\r\n\t\t\t\t            success: function () {\r\n\t\t\t\t                console.log('success');\r\n\t\t\t\t            },\r\n\t\t\t\t\t\t\tfail:function(){\r\n\t\t\t\t\t\t\t\tconsole.log('error');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t        });\r\n\t\t},\r\n\t\t// 实时时间\r\n\t\tgetTime() {\r\n\t\t\tvar that = this;\r\n\t\t\tsetInterval(function() {\r\n\t\t\t\tthat.time = formateDate(new Date(), 'h:min:s');\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\t// 获取当前位置\r\n\t\tgetLocation() {\r\n\t\t\tvar that = this;\r\n\t\t\t// if (this.clickNum !== 0) {\r\n\t\t\t// \tuni.showLoading({ title: '获取中...', mask: true });\r\n\t\t\t// }\r\n\t\t\t// if (this.clickNum >= 3) {\r\n\t\t\t// \tuni.showToast({ title: '请稍后尝试！', icon: 'none', mask: true });\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\t\t\t// this.clickNum++;\r\n\t\t\t\r\n\t\t\tuni.getLocation({\r\n\t\t\t\ttype: 'gcj02 ', //返回可以用于uni.openLocation的经纬度\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t// console.log(res);\r\n\t\t\t\t\tthat.latitude = res.latitude;\r\n\t\t\t\t\tthat.longitude = res.longitude;\r\n\t\t\t\t\t// console.log(res.latitude,\"---\",res.longitude)\r\n\t\t\t\t\t// that.covers[1] = { id: 1, latitude: res.latitude, longitude: res.longitude, iconPath: '../../static/location.png' };\r\n\t\t\t\t\tvar s = pointInsideCircle([that.latitude, that.longitude], [that.circles[0].latitude, that.circles[0].longitude], that.r / 100000);\r\n\t\t\t\t\tthat.is = s;\r\n\r\n\t\t\t\t\t// that.signInfo.latitude = res.latitude;\r\n\t\t\t\t\t// that.signInfo.longitude = res.longitude;\r\n\t\t\t\t\t// that.signInfo.mode = s ? '正常打卡' : '外勤打卡';\r\n\r\n\t\t\t\t\tthat.getAdd();\r\n\t\t\t\t},\r\n\t\t\t\tfail:(err) => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthat.address = '请检查位置信息！';\r\n\t\t\t\t\t//uni.showToast({ title: '请检查位置信息状态！', icon: 'none', mask: true, duration: 3000 });\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '请检查位置信息！',\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tsuccess: function(rest) {\r\n\t\t\t\t\t\t\tif (rest.confirm) {\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl: '/pages/home/index'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 点击打卡\r\n\t\tclickSign() {\r\n\t\t\tvar that = this;\r\n\t\t\tvar isTrue = this.is;\r\n\t\t\tif (isTrue === null) {\r\n\t\t\t\tuni.showToast({ title: '请检查位置信息状态！', icon: 'none', mask: true, duration: 3000 });\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet datas = {\r\n\t\t\t\tlnglat: that.dddd,\r\n\t\t\t\tguid: that.picker_room[that.index].a.grabRoomUuid\r\n\t\t\t};\r\n\t\t\tRoomjuli(datas).then(res => {\r\n\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\tif (res.data.data == 0) {\r\n\t\t\t\t\tuni.showLoading({ title: '打卡记录中...', mask: true });\r\n\t\t\t\t\tthis.signInfo.time = formateDate(new Date(), 'Y-M-D h:min:s');\r\n\t\t\t\t\tvar a = getSignInfo(1);\r\n\t\t\t\t\tif (a != undefined) {\r\n\t\t\t\t\t\taddSignInfo(getInfo(this.signInfo), a, 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetSignInfo(getInfo(this.signInfo), 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// setTimeout(function() {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tvar sign = getSignInfo(1).main;\r\n\t\t\t\t\t// console.log(sign)\r\n\t\t\t\t\tthat.allSign = sign.reverse();\r\n\t\t\t\t\tthat.isSign = true;\r\n\t\t\t\t\tthis.trashroom = this.picker_room[this.index].a.grabRoomUuid;\r\n\t\t\t\t\tif (that.isAm === false) {\r\n\t\t\t\t\t\tthat.isAm = true;\r\n\t\t\t\t\t\tthat.amSign = that.allSign[0];\r\n\r\n\t\t\t\t\t\tthat.signModel.AmstartTime = that.amSign.time;\r\n\t\t\t\t\t\tthat.signModel.AmstartPlace = that.amSign.address;\r\n\t\t\t\t\t\tthat.signModel.UserUUID = that.$store.state.userId;\r\n\t\t\t\t\t\tthat.signModel.UserName = that.$store.state.userName;\r\n\t\t\t\t\t\tthat.signModel.Type = '1'; //garbageRoomUuid\r\n\t\t\t\t\t\tthat.signModel.garbageRoomUuid = this.trashroom;\r\n\t\t\t\t\t\tconsole.log(that.signModel);\r\n\r\n\t\t\t\t\t\tdoClockIn(that.signModel).then(res => {\r\n\t\t\t\t\t\t\t//console.log(res);\r\n\t\t\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({ title: '打卡成功！' });\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({ title: res.message });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.isPm = true;\r\n\t\t\t\t\t\t//console.log(that.allSign[0].time);\r\n\t\t\t\t\t\t//console.log(that.allSign[1].time);\r\n\t\t\t\t\t\tif (that.allSign[0].time > that.allSign[1].time) {\r\n\t\t\t\t\t\t\tthat.pmSign = that.allSign[0];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.pmSign = that.allSign[1];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.signModel.AmendTime = that.pmSign.time;\r\n\t\t\t\t\t\tthat.signModel.AmendPlace = that.signInfo.address;\r\n\t\t\t\t\t\tthat.signModel.UserUUID = that.$store.state.userId;\r\n\t\t\t\t\t\tthat.signModel.UserName = that.$store.state.userName;\r\n\t\t\t\t\t\tthat.signModel.Type = '1'; \r\n\t\t\t\t\t\tthat.signModel.garbageRoomUuid = this.trashroom;\r\n\t\t\t\t\t\tconsole.log(that.signModel);\r\n\t\t\t\t\t\tdoClockBack(that.signModel).then(res => {\r\n\t\t\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({ title: '打卡成功！' });\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({ title: res.message });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({ title: '未到达打卡范围！', icon: 'none', mask: true, duration: 3000 });\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// }, 2000);\r\n\t\t},\r\n\t\t// 选择地址\r\n\t\topenLocation() {\r\n\t\t\tvar that = this;\r\n\t\t\tuni.chooseLocation({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthat.address = res.address;\r\n\t\t\t\t\tthat.signInfo.address = res.address;\r\n\t\t\t\t\tthat.signInfo.latitude = res.latitude;\r\n\t\t\t\t\tthat.signInfo.longitude = res.longitude;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.latitude = res.latitude;\r\n\t\t\t\t\tthat.longitude = res.longitude;\r\n\t\t\t\t\t// 这里是有问题的 .返回的 res 中有经纬度，地址名  如果使用这个经纬度 就会存在问题，（当前位置和公司位置重合），所以不建议使用这个经纬度。\r\n\t\t\t\t\tvar s = pointInsideCircle([that.latitude, that.longitude], [that.circles[0].latitude, that.circles[0].longitude], that.r / 10000);\r\n\t\t\t\t\tthat.is = s;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 初始化数据  （公司的经纬度 公司名称 打卡范围 ）\r\n\t\tgettrashlocation(){\r\n\t\t\tvar that = this;\r\n\t\t\tdoGetTrashLocation(that.trashroom).then(res=>{\r\n\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\tlet data = res.data.data;\r\n\t\t\t\t\t//console.log(data);\r\n\t\t\t\t\t//console.log(that.covers);\r\n\t\t\t\t\t//that.covers[0].callout.content = data.ljname;\r\n\t\t\t\t\tthat.covers[0].latitude=that.circles[0].latitude=data.lat;\r\n\t\t\t\t\tthat.covers[0].longitude=that.circles[0].longitude=data.lon;\r\n\t\t\t\t\t// that.r = that.circles.radius = data.r;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tPickerChange(e) {\r\n\t\t\tthis.index = e.detail.value;\r\n\t\t\t//console.log(this.picker_room[this.index]);\r\n\t\t\tthis.trashroom = this.picker_room[this.index].a.grabRoomUuid;\r\n\t\t\tthis.gettrashlocation(); //重新获取厢房位置\r\n\t\t\tthis.doTrashRoomList();\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t},\r\n\tmounted(){\r\n\t\tthis.GetXFPosition();\r\n\t\t\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.map {\r\n\twidth: 100%;\r\n\theight: 260px;\r\n}\r\n.uni-list-cell-left {\r\n\tpadding: 0 30upx;\r\n}\r\n.text-desc {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tpadding: 10upx 20upx;\r\n}\r\n.colorRed {\r\n\tcolor: red;\r\n}\r\n.colorGreen {\r\n\tcolor: #32cd32;\r\n}\r\n.colorYellow {\r\n\tcolor: yellow;\r\n}\r\n.colorBlue {\r\n\tcolor: #007aff;\r\n}\r\n\r\n.bgBlue {\r\n\tbackground-color: #007aff;\r\n}\r\n.bgGreen {\r\n\tbackground-color: #32cd32;\r\n}\r\n.bgAsh {\r\n\tbackground-color: #c8c7cc;\r\n}\r\n\r\n.uni-timeline {\r\n\tpadding: 30upx 20upx;\r\n}\r\n.uni-timeline-item-content-t {\r\n\tfont-weight: bold;\r\n}\r\n.desc-pad {\r\n\tpadding: 0 0upx;\r\n}\r\n.desc-pad .bz {\r\n\tcolor: rgb(0, 122, 255);\r\n}\r\n.desc-pad .bz .icon {\r\n\tcolor: rgb(0, 122, 255);\r\n}\r\n.uni-timeline-last-item .uni-timeline-item-divider {\r\n\tbackground: #bbb;\r\n}\r\n\r\n.CBlue {\r\n\tbackground-color: #007aff;\r\n\tbox-shadow: 0 5px 5px #007aff;\r\n}\r\n.CGreen {\r\n\tbackground-color: #32cd32;\r\n\tbox-shadow: 0 5px 5px #32cd32;\r\n}\r\n.CAsh {\r\n\tbackground-color: #c8c7cc;\r\n\tbox-shadow: 0 5px 5px #c8c7cc;\r\n}\r\n.Ccc {\r\n\tbackground-color: #ccc;\r\n}\r\n\r\n.module {\r\n\toverflow: hidden;\r\n\tmargin: 20upx auto;\r\n\twidth: 220upx;\r\n\theight: 220upx;\r\n\tborder-radius: 50%;\r\n\tcolor: #fff;\r\n\ttext-align: center;\r\n}\r\n.module .text {\r\n\tfont-size: 20px;\r\n\tmargin: 70upx auto 10upx;\r\n}\r\n.uni-timeline-item .uni-timeline-item-content {\r\n\twidth: 100%;\r\n\tpadding-right: 20upx;\r\n}\r\n\r\n.content-show {\r\n\twidth: 100%;\r\n}\r\n\r\n.sign-title {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tpadding: 30upx 24upx;\r\n\tborder-bottom: 1upx solid #333;\r\n}\r\n.sign-title .portrait {\r\n\twidth: 100upx;\r\n\theight: 100upx;\r\n\tline-height: 100upx;\r\n\tborder-radius: 50%;\r\n\tbackground-color: #007aff;\r\n\tcolor: #fff;\r\n\tfont-size: 28upx;\r\n\ttext-align: center;\r\n}\r\n.sign-title .sign-title-l {\r\n\tdisplay: flex;\r\n}\r\n.sign-title .sign-title-l .text {\r\n\tmargin-left: 20upx;\r\n}\r\n.sign-title .sign-title-l .text .name {\r\n\tfont-size: 32upx;\r\n}\r\n.sign-title .sign-title-l .text .gz {\r\n\tcolor: darkblue;\r\n\tdisplay: inline-flex;\r\n}\r\n.sign-title .sign-title-l .text .gz text {\r\n\tdisplay: inline-block;\r\n}\r\n.sign-title .sign-title-l .text .gz .t1 {\r\n\toverflow: hidden; /*超出部分隐藏*/\r\n\ttext-overflow: ellipsis; /* 超出部分显示省略号 */\r\n\twhite-space: nowrap; /*规定段落中的文本不进行换行 */\r\n\twidth: 166upx; /*需要配合宽度来使用*/\r\n}\r\n.iswq {\r\n\tpadding: 0px 12px;\r\n\tcolor: #99cc33;\r\n\tborder: 1px solid #99cc33;\r\n\twidth: 26px;\r\n\theight: 24px;\r\n\tborder-radius: 4px;\r\n\tmargin-left: 20upx;\r\n\tdisplay: inline-block;\r\n}\r\n.desc-pad .last {\r\n\tmargin-bottom: 80upx;\r\n}\r\n.relocation {\r\n\tcolor: #0000ff;\r\n}\r\n.uni-popup .content .text {\r\n\tcolor: #666666;\r\n}\r\n\r\n/* timeline */\r\n.uni-timeline {\r\n\tmargin: 35upx 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tposition: relative;\r\n}\r\n\r\n.uni-timeline-item {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tposition: relative;\r\n\tpadding-bottom: 20upx;\r\n\tbox-sizing: border-box;\r\n\toverflow: hidden;\r\n}\r\n\r\n.uni-timeline-item .uni-timeline-item-keynode {\r\n\twidth: 160upx;\r\n\tflex-shrink: 0;\r\n\tbox-sizing: border-box;\r\n\tpadding-right: 20upx;\r\n\ttext-align: right;\r\n\tline-height: 65upx;\r\n}\r\n\r\n.uni-timeline-item .uni-timeline-item-divider {\r\n\tflex-shrink: 0;\r\n\tposition: relative;\r\n\twidth: 30upx;\r\n\theight: 30upx;\r\n\ttop: 15upx;\r\n\tborder-radius: 50%;\r\n\tbackground-color: #bbb;\r\n}\r\n\r\n.uni-timeline-item-divider::before,\r\n.uni-timeline-item-divider::after {\r\n\tposition: absolute;\r\n\tleft: 15upx;\r\n\twidth: 1upx;\r\n\theight: 100vh;\r\n\tcontent: '';\r\n\tbackground: inherit;\r\n}\r\n\r\n.uni-timeline-item-divider::before {\r\n\tbottom: 100%;\r\n}\r\n\r\n.uni-timeline-item-divider::after {\r\n\ttop: 100%;\r\n}\r\n\r\n.uni-timeline-last-item .uni-timeline-item-divider:after {\r\n\tdisplay: none;\r\n}\r\n\r\n.uni-timeline-first-item .uni-timeline-item-divider:before {\r\n\tdisplay: none;\r\n}\r\n\r\n.uni-timeline-item .uni-timeline-item-content {\r\n\tpadding-left: 20upx;\r\n}\r\n\r\n.uni-timeline-last-item .bottom-border::after {\r\n\tdisplay: none;\r\n}\r\n\r\n.uni-timeline-item-content .datetime {\r\n\tcolor: #cccccc;\r\n}\r\n\r\n/* 自定义节点颜色 */\r\n.uni-timeline-last-item .uni-timeline-item-divider {\r\n\tbackground-color: #1aad19;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./volunteer.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../软件库/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./volunteer.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608021787278\n      var cssReload = require(\"D:/软件库/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}