(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-reg"],{1115:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return n}));var n={pickRegions:i("2d60").default},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticStyle:{"padding-top":"2rem"}},[i("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0,tourl:"/pages/login/login"}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[e._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[e._v("注册")])],2),i("v-uni-view",{staticClass:"content reg_bg"},[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"list-call"},[i("v-uni-view",{staticStyle:{color:"red"}},[e._v("*")]),i("v-uni-text",{staticClass:"cuIcon-myfill"}),i("v-uni-input",{staticClass:"biaoti",attrs:{maxlength:"11",placeholder:"请输入用户名"},model:{value:e.userinfo.loginName,callback:function(t){e.$set(e.userinfo,"loginName",t)},expression:"userinfo.loginName"}})],1),i("v-uni-view",{staticClass:"list-call"},[i("v-uni-view",{staticStyle:{color:"red"}},[e._v("*")]),i("v-uni-text",{staticClass:"cuIcon-unlock"}),i("v-uni-input",{staticClass:"biaoti",attrs:{type:"text",maxlength:"32",placeholder:"请输入登录密码",password:!e.showPassword},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.prop_pwd(e.userinfo.passWord)}},model:{value:e.userinfo.passWord,callback:function(t){e.$set(e.userinfo,"passWord",t)},expression:"userinfo.passWord"}}),i("v-uni-image",{staticClass:"img",attrs:{src:e.showPassword?"/static/shilu-login/op.png":"/static/shilu-login/cl.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.display.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"list-call"},[i("v-uni-view",{staticStyle:{color:"red"}},[e._v("*")]),i("v-uni-text",{staticClass:"cuIcon-lock"}),i("v-uni-input",{staticClass:"biaoti",attrs:{type:"text",maxlength:"32",placeholder:"确认登录密码",password:!e.showPassword2},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.prop_pwd2(e.userinfo.passWord2)}},model:{value:e.userinfo.passWord2,callback:function(t){e.$set(e.userinfo,"passWord2",t)},expression:"userinfo.passWord2"}}),i("v-uni-image",{staticClass:"img",attrs:{src:e.showPassword2?"/static/shilu-login/op.png":"/static/shilu-login/cl.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.display2.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"list-call"},[i("v-uni-view",{staticStyle:{color:"red"}},[e._v("*")]),i("v-uni-text",{staticClass:"cuIcon-home"}),i("pick-regions",{staticStyle:{position:"absolute",left:"65px"},attrs:{"default-regions":e.defaultRegions},on:{getRegions:function(t){arguments[0]=t=e.$handleEvent(t),e.handleGetRegions.apply(void 0,arguments)}}},[i("v-uni-input",{attrs:{placeholder:"请选择省市区",disabled:!0},model:{value:e.userinfo.address,callback:function(t){e.$set(e.userinfo,"address",t)},expression:"userinfo.address"}})],1)],1),i("v-uni-view",{staticClass:"list-call"},[i("v-uni-view",{staticStyle:{color:"red"}},[e._v("*")]),i("v-uni-text",{staticClass:"cuIcon-calendar"}),i("v-uni-input",{staticClass:"biaoti",attrs:{placeholder:"请输入详细地址(到单元号)"},model:{value:e.detailAdress,callback:function(t){e.detailAdress=t},expression:"detailAdress"}})],1),i("v-uni-view",{staticClass:"list-call"},[i("v-uni-text",{staticClass:"cuIcon-vipcard"}),i("v-uni-input",{staticClass:"biaoti",attrs:{type:"number",placeholder:"请输入老年卡号"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.prop_oldcard(e.userinfo.oldCard)}},model:{value:e.userinfo.oldCard,callback:function(t){e.$set(e.userinfo,"oldCard",t)},expression:"userinfo.oldCard"}})],1),i("v-uni-view",{staticClass:"list-call"},[i("v-uni-view",{staticStyle:{color:"red"}},[e._v("*")]),i("v-uni-text",{staticClass:"cuIcon-mobilefill"}),i("v-uni-input",{staticClass:"biaoti",attrs:{type:"number",maxlength:"11",placeholder:"请输入手机号"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.prop_phone(e.userinfo.phone)}},model:{value:e.userinfo.phone,callback:function(t){e.$set(e.userinfo,"phone",t)},expression:"userinfo.phone"}})],1),i("v-uni-view",{staticClass:"list-call"},[i("v-uni-view",{staticStyle:{color:"red"}},[e._v("*")]),i("v-uni-text",{staticClass:"cuIcon-safe"}),i("v-uni-input",{staticClass:"biaoti",attrs:{maxlength:"6",placeholder:"验证码"},model:{value:e.userinfo.code,callback:function(t){e.$set(e.userinfo,"code",t)},expression:"userinfo.code"}}),i("v-uni-view",{ref:"yzm",staticClass:"yzm",class:{yzms:e.second>0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getcode.apply(void 0,arguments)}}},[e._v(e._s(e.yanzhengma))])],1)],1),i("v-uni-view",{staticClass:"dlbutton",attrs:{"hover-class":"dlbutton-hover"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.bindLogin.apply(void 0,arguments)}}},[i("v-uni-text",[e._v("注册")])],1)],1)],1)},s=[]},2556:function(e,t,i){"use strict";i.r(t);var n=i("1115"),o=i("3de1");for(var s in o)"default"!==s&&function(e){i.d(t,e,(function(){return o[e]}))}(s);i("48e5");var a,l=i("f0c5"),r=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,"6546e85a",null,!1,n["a"],a);t["default"]=r.exports},"3de1":function(e,t,i){"use strict";i.r(t);var n=i("896e"),o=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);t["default"]=o.a},"48e5":function(e,t,i){"use strict";var n=i("96d7"),o=i.n(n);o.a},"896e":function(e,t,i){"use strict";var n=i("4ea4");i("a15b"),i("d81d"),i("4d63"),i("ac1f"),i("25f0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,a=n(i("2d60")),l=i("081e"),r={components:{pickRegions:a.default},onLoad:function(){o=this},onUnload:function(){clearInterval(s),this.second=0},data:function(){return{userinfo:{loginName:"",passWord:"",passWord2:"",code:"",address:"",oldCard:"",phone:""},detailAdress:"",code:"",xieyi:!0,showPassword:!1,showPassword2:!1,second:0,regions:[],defaultRegions:["浙江省","杭州市","桐庐县"],regpwd:!1,regphone:!1,havecode:!1}},computed:{yanzhengma:function(){return 0==this.second?"获取验证码":this.second<10?"重新获取0"+this.second:"重新获取"+this.second},regionsName:function(){return this.regions.map((function(e){return e.name})).join(" ")}},methods:{prop_pwd:function(e){if(""!==e&&null!=e){var t=new RegExp("(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[^a-zA-Z0-9]).{8,30}");if(!t.test(e))return uni.showToast({icon:"none",title:"您的密码复杂度太低（密码中必须包含字母、数字、特殊字符），请重新输入密码！",duration:2e3}),void(this.regpwd=!1);this.regpwd=!0}else this.regpwd=!1},prop_oldcard:function(e){""!=e&&null!=e||uni.showToast({icon:"none",title:"请填写老年卡号",duration:2e3})},prop_pwd2:function(e){if(""!==e&&null!=e){var t=new RegExp("(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[^a-zA-Z0-9]).{8,30}");if(!t.test(e))return uni.showToast({icon:"none",title:"您的密码复杂度太低（密码中必须包含字母、数字、特殊字符），请重新输入密码！",duration:2e3}),void(this.regpwd=!1);if(e!=this.userinfo.passWord)return uni.showToast({icon:"none",title:"两次密码不一致",duration:2e3}),void(this.regpwd=!1);this.regpwd=!0}else this.regpwd=!1},prop_phone:function(e){if(""!==e&&null!==e){var t=/^1[3456789]\d{9}$/;if(!t.test(e))return uni.showToast({icon:"none",title:"手机号码不合法",duration:2e3}),void(this.regphone=!1);this.regphone=!0}else uni.showToast({icon:"none",title:"手机号码不能为空",duration:2e3}),this.regphone=!1},handleGetRegions:function(e){for(var t="",i=0;i<e.length;i++)t+=e[i].name;this.userinfo.address=t},display:function(){this.showPassword=!this.showPassword},display2:function(){this.showPassword2=!this.showPassword2},getcode:function(){var e=this,t=this;this.regphone?this.havecode?uni.showToast({title:"请等待！"}):(this.havecode=!0,this.second=60,s=setInterval((function(){o.second--,o.second<=0&&(t.havecode=!1,clearInterval(s))}),1e3),(0,l.getRegCode)(this.userinfo.phone).then((function(t){200==t.data.code?(e.code=t.data.data.str,uni.showToast({title:t.data.message})):uni.showToast({title:t.data.message,icon:"none"})})).catch((function(e){console.log(e)}))):uni.showToast({icon:"none",title:"请输入正确的手机号"})},bindLogin:function(){if(""!=this.userinfo.loginName&&null!=this.userinfo.loginName)if(this.regpwd)if(this.regphone)if(""!=this.detailAdress)if(""!=this.code&&this.code.toLowerCase()==this.userinfo.code.toLowerCase()){this.userinfo.address+="-"+this.detailAdress,console.log(this.userinfo);var e={RealName:this.userinfo.loginName,PassWord:this.userinfo.passWord,Address:this.userinfo.address,OldCard:this.userinfo.oldCard,Phone:this.userinfo.phone};(0,l.doCreateUser)(e).then((function(e){console.log(e.data),200==e.data.code?(uni.showToast({title:e.data.message}),setTimeout((function(){uni.navigateBack()}),2e3)):uni.showToast({title:e.data.message,icon:"none"}),console.log()}))}else uni.showToast({icon:"none",title:"验证码不正确"});else uni.showToast({icon:"none",title:"请输入详细地址"});else uni.showToast({icon:"none",title:"请检查手机号"});else uni.showToast({icon:"none",title:"请检查密码"});else uni.showToast({icon:"none",title:"请输入账号"})}}};t.default=r},"96d7":function(e,t,i){var n=i("f34c");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("63f51faa",n,!0,{sourceMap:!1,shadowMode:!1})},f34c:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".reg_bg[data-v-6546e85a]{background:#fff;position:absolute;width:100%;height:100%}.content[data-v-6546e85a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.header[data-v-6546e85a]{width:%?161?%;height:%?161?%;background:#3fcdeb;box-shadow:%?0?% %?12?% %?13?% %?0?% rgba(63,205,235,.47);border-radius:50%;margin-top:%?30?%;margin-left:auto;margin-right:auto}.header uni-image[data-v-6546e85a]{width:%?161?%;height:%?161?%;border-radius:50%}.list[data-v-6546e85a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding-top:%?50?%;padding-left:%?70?%;padding-right:%?70?%;position:relative;top:-50px}.list-call[data-v-6546e85a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?100?%;color:#333;border-bottom:%?1?% solid #e6e6e6}.list-call .img[data-v-6546e85a]{width:%?40?%;height:%?40?%}.list-call .biaoti[data-v-6546e85a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:left;font-size:%?32?%;line-height:%?100?%;margin-left:%?16?%}.yzm[data-v-6546e85a]{color:#ff7d13;font-size:%?24?%;line-height:%?64?%;padding-left:%?10?%;padding-right:%?10?%;width:auto;height:%?64?%;border:%?1?% solid #ffa800;border-radius:%?50?%}.yzms[data-v-6546e85a]{color:#999!important;border:%?1?% solid #999}.dlbutton[data-v-6546e85a]{color:#fff;font-size:%?34?%;width:%?470?%;height:%?100?%;background:-webkit-linear-gradient(right,#3fcdeb,#bce29e);background:linear-gradient(-90deg,#3fcdeb,#bce29e);box-shadow:%?0?% %?0?% %?13?% %?0?% rgba(164,217,228,.2);border-radius:%?50?%;line-height:%?100?%;text-align:center;margin-left:auto;margin-right:auto\n\t/* margin-top: 100upx; */}.dlbutton-hover[data-v-6546e85a]{background:-webkit-linear-gradient(right,rgba(63,205,235,.9),rgba(188,226,158,.9));background:linear-gradient(-90deg,rgba(63,205,235,.9),rgba(188,226,158,.9))}.xieyi[data-v-6546e85a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?30?%;margin-top:%?80?%;color:#ffa800;text-align:center;height:%?40?%;line-height:%?40?%}.list-call uni-text[data-v-6546e85a]{font-size:20px}.xieyi uni-image[data-v-6546e85a]{width:%?40?%;height:%?40?%}",""]),e.exports=t}}]);