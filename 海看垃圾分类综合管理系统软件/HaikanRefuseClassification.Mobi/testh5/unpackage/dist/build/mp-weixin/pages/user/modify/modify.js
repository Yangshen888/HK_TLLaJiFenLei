(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/modify/modify"],{"0218":function(t,e,n){"use strict";var o=n("9e36"),i=n.n(o);i.a},"6ee1":function(t,e,n){"use strict";n.r(e);var o=n("7d92"),i=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},"7d92":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,i,s=n("4eb6"),a=function(){n.e("components/cmd-transition/cmd-transition").then(function(){return resolve(n("c9cb"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/cmd-input/cmd-input").then(function(){return resolve(n("5502"))}.bind(null,n)).catch(n.oe)},r={components:{cmdTransition:a,cmdInput:c},data:function(){return{second:0,mobile:{phone:"",code:"",passwordOne:"",passwordTwo:""},passwordReg:/^\w+$/,phoneReg:/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/,safety:{time:60,state:!1,interval:""},modifyMobile:!1,str:"",havecode:!1}},watch:{mobile:{handler:function(t){this.phoneReg.test(t.phone)&&4==t.code.length&&t.passwordOne.length>=8&&t.passwordOne==t.passwordTwo?this.modifyMobile=!0:this.modifyMobile=!1},deep:!0}},onLoad:function(){o=this},methods:{returnpage:function(){t.navigateTo({url:"/pages/user/info/info"})},fnModify:function(){var e=this;""!=this.mobile.passwordOne&&""!=this.mobile.passwordTwo||t.showToast({title:"请输入密码",icon:"none"}),this.mobile.passwordOne!=this.mobile.passwordTwo&&t.showToast({title:"密码不相同",icon:"none"}),this.mobile.code.toLowerCase()!=this.str.toLowerCase()&&t.showToast({title:"验证码错误",icon:"none"}),console.log(JSON.stringify(this.mobile));var n={phone:this.mobile.phone,password:this.mobile.passwordOne,code:this.mobile.code};(0,s.setNewPass)(n).then((function(n){200==n.data.code?(t.showToast({title:n.data.msg}),e.returnpage()):t.showToast({title:n.data.msg,icon:"none"})}))},getcode:function(){var e=this,n=this;""!=this.mobile.phone?this.havecode?t.showToast({title:"请等待！"}):(this.havecode=!0,this.second=60,i=setInterval((function(){o.second--,o.second<=0&&(n.havecode=!1,clearInterval(i))}),1e3),(0,s.getRegCode)(this.mobile.phone).then((function(n){200==n.data.code?(e.str=n.data.data.str,t.showToast({title:n.data.message})):t.showToast({title:n.data.message,icon:"none"})})).catch((function(t){console.log(t)}))):t.showToast({icon:"none",title:"请输入正确的手机号"})}},beforeDestroy:function(){clearInterval(this.safety.interval)}};e.default=r}).call(this,n("543d")["default"])},"9d37":function(t,e,n){"use strict";(function(t){n("f397"),n("921b");o(n("66fd"));var e=o(n("ac43"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"9e36":function(t,e,n){},ac43:function(t,e,n){"use strict";n.r(e);var o=n("fdc9"),i=n("6ee1");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("0218");var a,c=n("f0c5"),r=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=r.exports},fdc9:function(t,e,n){"use strict";var o={"cmd-transition":function(){return n.e("components/cmd-transition/cmd-transition").then(n.bind(null,"c9cb"))},"cmd-input":function(){return n.e("components/cmd-input/cmd-input").then(n.bind(null,"5502"))}},i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){!t.safety.state&&t.getcode()})},s=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}))}},[["9d37","common/runtime","common/vendor"]]]);